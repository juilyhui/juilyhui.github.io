---
layout: post
title: DNS & CDN (摘录自维基百科)
author: juily
---
## DNS & CDN (摘录自维基百科)
-----

## 【 DNS 域名系统】
它作为将域名和IP地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS使用TCP和UDP端口53。当前，对于每一级域名长度的限制是63个字符，域名总长度则不能超过253个字符。

### 记录类型：
DNS系统中，常见的资源记录类型有：主机记录（A记录）、别名记录（CNAME记录）、IPv6主机记录（AAAA记录）、服务器位置记录（SRV记录）、NAPTR记录

### 技术实现：
DNS通过允许一个名称服务器把他的一部分名称服务（众所周知的zone）“委托”给子服务器而实现了一种层次结构的名称空间。此外，DNS还提供了一些额外的信息，例如系统别名、联系信息以及哪一个主机正在充当系统组或域的邮件枢纽。任何一个使用IP的计算机网络可以使用DNS来实现他自己的私有名称系统。
504个全球范围的“根域名服务器”（分成13组，分别编号为A至M）。从这504个根服务器开始，余下的Internet DNS命名空间被委托给其他的DNS服务器，这些服务器提供DNS名称空间中的特定部分。

### 域名解析：
例：zh.wikipedia.org作为一个域名就和IP地址208.80.154.225相对应。DNS就像是一个自动的电话号码簿，我们可以直接拨打wikipedia的名字来代替电话号码（IP地址）。DNS在我们直接调用网站的名字以后就会将像zh.wikipedia.org一样便于人类使用的名字转化成像208.80.154.225一样便于机器识别的IP地址。
DNS查询有两种方式：递归和迭代。DNS客户端设置使用的DNS服务器一般都是递归服务器，它负责全权处理客户端的DNS查询请求，直到返回最终结果。而DNS服务器之间一般采用迭代查询方式。


## 【 CDN  内容分发网络】
是指一种通过互联网互相连接的电脑网络系统，利用最靠近每位用户的服务器，更快、更可靠地将音乐、图片、视频、应用程序及其他文件发送给用户，来提供高性能、可扩展性及低成本的网络内容传递给用户。

### 优点：
1、可以承载大量用户，可以承载的用户数量比起传统单一服务器多。
2、因为CDN将服务器放到了不同地点，因此减少了互连的流量，进而降低宽带成本。
3、内容分发网络通常会指派较近、较顺畅的服务器节点将数据传输给用户。尽可能提高了性能。这使得一些比较高带宽的应用（传输高清画质的视频）更容易推动。
4、有异地备援。当某个服务器故障时，系统将会调用其他邻近地区的服务器服务，进而提供接近100%的可靠度。
5、内容分发网络提供给服务提供者更多的控制权。提供服务的人可以针对客户、地区，或是其他因子调整。

### 技术：
内容分发网络节点会在多个地点，多个不同的网络上摆放。这些节点之间会动态的互相传输内容，对用户的下载行为最优化，并借此减少内容供应者所需要的带宽成本，改善用户的下载速度，提高系统的稳定性。内容分发网络所需要的节点数量随着需求而不同，依照所需要服务的对象大小，有可能有数万台服务器。服务器的工作方式一般是基于nginx的模式，也就是仅仅缓存网站的静态内容，不过，随着今年来国内外CDN服务商纷纷推出HTTPS加速功能，工作方式也变得略有不同，变成了nginx+SNI（一个CDN节点上可以借此技术绑定N个域名），同时，BGP anycast技术也逐渐引入了CDN领域中。
